# App SDK 开发及使用规范

现在手游行业中，在推广时，需要接入非常多的第三方的SDK，给产品的发布增加了非常多的成本，同时也给代码的管理带来了非常大的难度。如果这个行业中的SDK提供方和SDK的使用方，有机会能坐在一起讨论这个事就好了，相信对这个行业的发展有些帮助。

在学习Node.js时发现，由于现在Javascript的用户在增加，所以出现了CommonJS和AMD 两种模块规范。然而现在App的盛行，SDK的使用也是非常多，难道我们就不能也出一个规范吗？


在我的工作过程中，也总结了一些经验，在这里供大家参考，也希望大家能发表意见，为这个行业的发展做点贡献。

### SDK的开发规范

SDK大部份情况都是提供给项目组外，甚至是公司外部人员使用的，所以开发SDK的目标不仅保证功能和性能的达标，还需要达到节约沟通成本，提升“用户体验”的目标。所以需要实现以下几点：

* API 要实高内聚，隐藏复杂度；
* 配置文件及配置内容，越少越好，减少维护成本，降低修改出错率；在接入时，每个SDK的配置项都需要去理解做什么用的，如何使用，这样给接入带来很高的成本；
* 配置参数尽量可以通过代码来修改，这样使用方也就可以实现通过服务端来管理；对于做SDK二次封装的业务，就非常有用；
* 避免配置文件及资源文件冲突，尽量使用公司名或项目名当前缀；
* 方便切换测试环境与生产环境；
* 不能占用独有资源（比如：Android中的Aplication）

### SDK的使用规范

在使用SDK时，如果是经常要维护的，那尽量还是开发一个中间件，把SDK的实现与自身APP的代码进行解耦合，然后通过“反射”技术注入。

我们公司因为业务特殊，需要把别人的SDK接入到我们的平台，然后再把封装后的SDK提供给游戏厂商使用。因为我们需要接入非常多的SDK，于是采用这种技术，把我们自己的业务与第三方SDK进行解耦。